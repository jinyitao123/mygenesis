{% extends "base.html" %}

{% block title %}系统错误 - Genesis ERP{% endblock %}

{% block content %}
<div class="min-h-[60vh] flex items-center justify-center">
    <div class="text-center max-w-md">
        <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
            <i class="fas fa-exclamation-triangle text-red-600 text-3xl"></i>
        </div>
        
        <h1 class="text-3xl font-bold text-gray-800 mb-4">系统错误</h1>
        
        <div class="bg-red-50 border border-red-200 rounded-lg p-6 mb-6">
            <p class="text-red-800 mb-4">
                {{ error if error else "系统发生未知错误，请稍后重试。" }}
            </p>
            
            {% if "数据库" in error or "连接" in error %}
            <div class="text-sm text-red-600 bg-red-100 p-3 rounded">
                <p class="font-medium mb-1">可能的原因：</p>
                <ul class="list-disc list-inside text-left space-y-1">
                    <li>Neo4j 数据库服务未启动</li>
                    <li>数据库连接配置错误</li>
                    <li>ontology 文件缺失或损坏</li>
                </ul>
            </div>
            {% endif %}
        </div>
        
        <div class="space-y-4">
            <a href="/" class="btn-primary inline-block">
                <i class="fas fa-home mr-2"></i> 返回首页
            </a>
            
            <div class="text-sm text-gray-500">
                <p class="mb-2">如果问题持续存在，请检查：</p>
                <div class="grid grid-cols-1 gap-2 text-left">
                    <div class="flex items-center">
                        <i class="fas fa-database text-gray-400 mr-2"></i>
                        <span>Neo4j 服务状态</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-file-code text-gray-400 mr-2"></i>
                        <span>ontology 目录文件完整性</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-cog text-gray-400 mr-2"></i>
                        <span>系统配置文件 (.env)</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mt-8 pt-6 border-t border-gray-200">
            <p class="text-sm text-gray-500">
                技术支持: 
                <a href="mailto:support@genesis-erp.com" class="text-blue-600 hover:underline">
                    support@genesis-erp.com
                </a>
            </p>
        </div>
    </div>
</div>
{% endblock %}