<?xml version="1.0" encoding="UTF-8"?>
<action_types>
  <!-- 供应链ERP领域动作类型定义 -->
  
  <!-- 提交订单审批 -->
  <action_type>
    <id>ACT_SUBMIT_ORDER</id>
    <name>提交审批</name>
    <description>提交订单进行审批</description>
    <icon>document-check</icon>
    <color>#3b82f6</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>DRAFT</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <value>PENDING</value>
      </effect>
    </effects>
  </action_type>
  
  <!-- 经理批准订单 -->
  <action_type>
    <id>ACT_APPROVE_ORDER</id>
    <name>经理批准</name>
    <description>经理批准采购订单</description>
    <icon>check-circle</icon>
    <color>#10b981</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>PENDING</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <value>APPROVED</value>
      </effect>
    </effects>
  </action_type>
  
  <!-- 创建采购订单 -->
  <action_type>
    <id>ACT_CREATE_ORDER</id>
    <name>创建订单</name>
    <description>创建新的采购订单</description>
    <icon>file-plus</icon>
    <color>#f59e0b</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>Supplier</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>ACTIVE</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>create_object</type>
        <object_type>PurchaseOrder</object_type>
        <properties>
          <property name="status" value="DRAFT"/>
          <property name="supplier_id" value="$supplier_id"/>
        </properties>
      </effect>
    </effects>
  </action_type>
  
  <!-- 发货 -->
  <action_type>
    <id>ACT_SHIP_ORDER</id>
    <name>发货</name>
    <description>发货已批准的订单</description>
    <icon>truck</icon>
    <color>#8b5cf6</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>APPROVED</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <value>SHIPPED</value>
      </effect>
    </effects>
  </action_type>
  
  <!-- 收货 -->
  <action_type>
    <id>ACT_RECEIVE_ORDER</id>
    <name>收货</name>
    <description>接收已发货的货物</description>
    <icon>package</icon>
    <color>#ef4444</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>SHIPPED</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>PurchaseOrder</object_type>
        <property>status</property>
        <value>RECEIVED</value>
      </effect>
    </effects>
  </action_type>
</action_types>