<?xml version="1.0" encoding="UTF-8"?>
<ObjectTypes domain="finance_risk">
  <!-- 金融风控领域对象类型定义 -->
  
  <ObjectType name="Risk" icon="alert" color="#ef4444" primary_key="risk_id">
    <Property name="risk_id" type="string" required="true" description="风险ID"/>
    <Property name="name" type="string" description="风险名称"/>
    <Property name="category" type="string" enum="CREDIT,MARKET,OPERATIONAL,LIQUIDITY,COMPLIANCE" description="风险类别"/>
    <Property name="level" type="string" enum="LOW,MEDIUM,HIGH,CRITICAL" description="风险等级"/>
    <Property name="probability" type="float" min="0" max="1" description="发生概率"/>
    <Property name="impact" type="float" min="0" max="1" description="影响程度"/>
    <Property name="status" type="string" enum="IDENTIFIED,ASSESSED,MITIGATED,CLOSED" default="IDENTIFIED" description="状态"/>
  </ObjectType>
  
  <ObjectType name="Portfolio" icon="portfolio" color="#3b82f6" primary_key="portfolio_id">
    <Property name="portfolio_id" type="string" required="true" description="投资组合ID"/>
    <Property name="name" type="string" description="组合名称"/>
    <Property name="total_value" type="float" default="0" description="总价值"/>
    <Property name="risk_tolerance" type="float" default="0.1" description="风险承受能力"/>
    <Property name="return_rate" type="float" default="0" description="收益率"/>
    <Property name="strategy" type="string" enum="AGGRESSIVE,MODERATE,CONSERVATIVE" default="MODERATE" description="策略"/>
  </ObjectType>
  
  <ObjectType name="Asset" icon="asset" color="#10b981" primary_key="asset_id">
    <Property name="asset_id" type="string" required="true" description="资产ID"/>
    <Property name="name" type="string" description="资产名称"/>
    <Property name="type" type="string" enum="EQUITY,FIXED_INCOME,CASH,DERIVATIVE,REAL_ESTATE" description="资产类型"/>
    <Property name="value" type="float" description="当前价值"/>
    <Property name="currency" type="string" default="USD" description="货币"/>
    <Property name="liquidity" type="string" enum="HIGH,MEDIUM,LOW" default="MEDIUM" description="流动性"/>
  </ObjectType>
  
  <ObjectType name="Transaction" icon="transaction" color="#8b5cf6" primary_key="txn_id">
    <Property name="txn_id" type="string" required="true" description="交易ID"/>
    <Property name="type" type="string" enum="BUY,SELL,TRANSFER,PAYMENT,DEPOSIT,WITHDRAWAL" description="交易类型"/>
    <Property name="amount" type="float" description="金额"/>
    <Property name="currency" type="string" default="USD" description="货币"/>
    <Property name="status" type="string" enum="PENDING,COMPLETED,FAILED,CANCELLED" default="PENDING" description="状态"/>
    <Property name="timestamp" type="string" description="交易时间"/>
  </ObjectType>
  
  <ObjectType name="Alert" icon="warning" color="#f59e0b" primary_key="alert_id">
    <Property name="alert_id" type="string" required="true" description="警报ID"/>
    <Property name="type" type="string" enum="FRAUD,COMPLIANCE,RISK_THRESHOLD,PRICE_MOVE" description="警报类型"/>
    <Property name="severity" type="string" enum="INFO,WARNING,CRITICAL" description="严重程度"/>
    <Property name="message" type="string" description="警报消息"/>
    <Property name="status" type="string" enum="NEW,ACKNOWLEDGED,RESOLVED" default="NEW" description="状态"/>
  </ObjectType>
  
  <ObjectType name="Customer" icon="user" color="#6366f1" primary_key="customer_id">
    <Property name="customer_id" type="string" required="true" description="客户ID"/>
    <Property name="name" type="string" description="客户名称"/>
    <Property name="risk_profile" type="string" enum="LOW,MEDIUM,HIGH" default="MEDIUM" description="风险画像"/>
    <Property name="credit_score" type="int" min="300" max="850" description="信用评分"/>
    <Property name="segment" type="string" enum="RETAIL,INSTITUTIONAL,PRIVATE_WEALTH" description="客户细分"/>
  </ObjectType>
  
  <ObjectType name="Regulation" icon="regulations" color="#64748b" primary_key="reg_id">
    <Property name="reg_id" type="string" required="true" description="法规ID"/>
    <Property name="name" type="string" description="法规名称"/>
    <Property name="jurisdiction" type="string" description="司法管辖区"/>
    <Property name="effective_date" type="string" description="生效日期"/>
    <Property name="compliance_status" type="string" enum="COMPLIANT,PARTIAL,NON_COMPLIANT" default="COMPLIANT" description="合规状态"/>
  </ObjectType>
  
  <!-- 关系类型定义 -->
  <LinkType name="HOLDS" source="Portfolio" target="Asset" color="#64748b" description="组合持有资产"/>
  <LinkType name="GENERATES" source="Asset" target="Transaction" color="#4CAF50" description="资产产生交易"/>
  <LinkType name="TRIGGERS" source="Transaction" target="Risk" color="#ef4444" description="交易触发风险"/>
  <LinkType name="ASSIGNS" source="Portfolio" target="Risk" color="#f59e0b" description="组合承担风险"/>
  <LinkType name="CREATES" source="Customer" target="Portfolio" color="#3b82f6" description="客户创建组合"/>
  <LinkType name="ASSOCIATED_WITH" source="Risk" target="Regulation" color="#8b5cf6" description="风险关联法规"/>
  <LinkType name="RAISES" source="Transaction" target="Alert" color="#ef4444" description="交易触发警报"/>
</ObjectTypes>
