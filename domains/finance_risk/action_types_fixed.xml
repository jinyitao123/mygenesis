<?xml version="1.0" encoding="UTF-8"?>
<action_types>
  <!-- 金融风控领域动作类型定义 -->
  
  <!-- 风险评估动作 -->
  <action_type>
    <id>RISK_ASSESS</id>
    <name>评估风险</name>
    <description>对识别的风险进行评估</description>
    <icon>chart</icon>
    <color>#ef4444</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>Risk</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>IDENTIFIED</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>Risk</object_type>
        <property>status</property>
        <value>ASSESSED</value>
      </effect>
    </effects>
    
    <cypher_validation>
      <![CDATA[
      MATCH (risk:RISK {id: $risk_id})
      WHERE risk.status = 'IDENTIFIED'
      RETURN risk
      ]]>
    </cypher_validation>
  </action_type>
  
  <!-- 交易执行动作 -->
  <action_type>
    <id>EXECUTE_TRADE</id>
    <name>执行交易</name>
    <description>执行买卖交易</description>
    <icon>exchange</icon>
    <color>#10b981</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>Account</object_type>
        <property>balance</property>
        <operator>>=</operator>
        <value>1000</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>Account</object_type>
        <property>balance</property>
        <value>decreased</value>
      </effect>
    </effects>
    
    <cypher_validation>
      <![CDATA[
      MATCH (account:ACCOUNT {id: $account_id})
      WHERE account.balance >= 1000
      RETURN account
      ]]>
    </cypher_validation>
  </action_type>
  
  <!-- 担保审核动作 -->
  <action_type>
    <id>REVIEW_GUARANTEE</id>
    <name>审核担保</name>
    <description>审核贷款担保申请</description>
    <icon>shield-check</icon>
    <color>#3b82f6</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>Guarantee</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>PENDING</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>Guarantee</object_type>
        <property>status</property>
        <value>APPROVED</value>
      </effect>
    </effects>
    
    <cypher_validation>
      <![CDATA[
      MATCH (guarantee:GUARANTEE {id: $guarantee_id})
      WHERE guarantee.status = 'PENDING'
      RETURN guarantee
      ]]>
    </cypher_validation>
  </action_type>
  
  <!-- 风险监控动作 -->
  <action_type>
    <id>MONITOR_RISK</id>
    <name>监控风险</name>
    <description>持续监控风险指标</description>
    <icon>eye</icon>
    <color>#f59e0b</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>Risk</object_type>
        <property>status</property>
        <operator>==</operator>
        <value>ASSESSED</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>Risk</object_type>
        <property>monitored</property>
        <value>true</value>
      </effect>
    </effects>
    
    <cypher_validation>
      <![CDATA[
      MATCH (risk:RISK {id: $risk_id})
      WHERE risk.status = 'ASSESSED'
      RETURN risk
      ]]>
    </cypher_validation>
  </action_type>
  
  <!-- 欺诈检测动作 -->
  <action_type>
    <id>DETECT_FRAUD</id>
    <name>检测欺诈</name>
    <description>检测可疑交易行为</description>
    <icon>alert-triangle</icon>
    <color>#dc2626</color>
    
    <preconditions>
      <precondition>
        <type>object_exists</type>
        <object_type>Transaction</object_type>
        <property>amount</property>
        <operator>></operator>
        <value>10000</value>
      </precondition>
    </preconditions>
    
    <effects>
      <effect>
        <type>property_change</type>
        <object_type>Transaction</object_type>
        <property>flagged</property>
        <value>true</value>
      </effect>
    </effects>
    
    <cypher_validation>
      <![CDATA[
      MATCH (tx:TRANSACTION {id: $tx_id})
      WHERE tx.amount > 10000
      RETURN tx
      ]]>
    </cypher_validation>
  </action_type>
</action_types>